{{/*
  Copyright (c) 2026 H0llyW00dzZ All rights reserved.

  By accessing or using this software, you agree to be bound by the terms
  of the License Agreement, which you can find at LICENSE files.

  template.go.tmpl — HTML pixel art output template.
  This template is embedded at compile time via go:embed.
*/}}
{{- if .WithHTML -}}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="pixcel — github.com/H0llyW00dzZ/pixcel">
<title>{{.Title}}</title>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #1a1a2e;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    font-family: system-ui, -apple-system, sans-serif;
  }
  .pixcel-container {
    padding: 24px;
    background: #16213e;
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.05);
{{- if .SmoothLoad}}
    opacity: 0;
    transition: opacity 0.3s ease;
{{- end}}
  }
{{- if .SmoothLoad}}
  .pixcel-container.loaded { opacity: 1; }
{{- end}}
  table { border-collapse: collapse; font-size: 0; line-height: 0; image-rendering: pixelated; }
</style>
</head>
<body>
<div class="pixcel-container">
{{- end}}
<table width="{{.Width}}" height="{{.Height}}" cellpadding="0" cellspacing="0"{{if not .WithHTML}} style="border-collapse:collapse;font-size:0;line-height:0"{{end}}>
<tbody>
{{- range .Rows}}
<tr>{{range .}}<td{{if gt .Colspan 1}} colspan="{{.Colspan}}"{{end}}{{if gt .Rowspan 1}} rowspan="{{.Rowspan}}"{{end}}{{if .Color}} style="width:{{.Colspan}}px;height:{{.Rowspan}}px;{{.Color}}"{{end}}></td>{{end}}</tr>
{{- end}}
</tbody>
</table>
{{- if .WithHTML}}
</div>
{{- if .SmoothLoad}}
<script>window.addEventListener("load",function(){document.querySelector(".pixcel-container").classList.add("loaded")});</script>
{{- end}}
</body>
</html>
{{- end}}
